<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="theme-color" content="#0b1018" />
    <title>EDH PodLog ¬∑ Profil</title>
    <link rel="icon" href="favicon.ico" sizes="any" />
    <link rel="apple-touch-icon" href="apple-touch-icon.png" />
    <link rel="manifest" href="manifest.webmanifest" />
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body class="app-shell" data-require-auth="true" data-page="profile">
    <div class="app-background" aria-hidden="true"></div>
    <header class="app-header">
      <a class="brand brand-link" href="dashboard.html">
        <div class="brand-icon">üúÇ</div>
        <span class="brand-text">EDH PodLog</span>
      </a>
      <nav class="app-nav">
        <a class="app-nav-link" href="dashboard.html">Tableau de bord</a>
        <a class="app-nav-link" href="parties.html">Parties</a>
        <a class="app-nav-link" href="groupes.html">Groupe</a>
        <a class="app-nav-link" href="decks.html">Decks</a>
        <a class="app-nav-link" href="#">Statistiques</a>
        <a class="app-nav-link" href="synchronisation.html">Synchronisation</a>
      </nav>
      <div class="profile-area">
        <button
          class="profile-button"
          type="button"
          id="profileMenuButton"
          aria-haspopup="true"
          aria-expanded="false"
        >
          <span class="profile-name" id="profileName">Vous</span>
          <span class="profile-avatar" id="profileAvatar" aria-hidden="true"
            >VP</span
          >
          <svg
            class="profile-caret"
            width="16"
            height="16"
            viewBox="0 0 16 16"
            aria-hidden="true"
          >
            <path
              fill="currentColor"
              d="M4.47 6.97a.75.75 0 0 1 1.06 0L8 9.44l2.47-2.47a.75.75 0 1 1 1.06 1.06L8.53 11a.75.75 0 0 1-1.06 0L4.47 8.03a.75.75 0 0 1 0-1.06z"
            />
          </svg>
        </button>
        <div class="profile-dropdown" id="profileMenu" role="menu">
          <a class="dropdown-link" href="profile.html" role="menuitem"
            >Mon profil</a
          >
          <button class="dropdown-link" type="button" id="signOutBtn" role="menuitem">
            Se d√©connecter
          </button>
        </div>
      </div>
    </header>

    <main class="profile-main">
      <section class="profile-card">
        <header class="profile-card-header">
          <div>
            <h1>Votre profil</h1>
            <p>
              G√©rez votre identit√© EDH PodLog et pr√©parez la synchronisation avec vos
              outils pr√©f√©r√©s.
            </p>
          </div>
          <div class="profile-overview">
            <div class="profile-avatar profile-avatar-large" id="profileBadgeLarge">
              VP
            </div>
            <div class="profile-identifiers">
              <h2 id="profileFullName">Planeswalker</h2>
              <span id="profileEmail">planeswalker@example.com</span>
            </div>
          </div>
        </header>

        <p class="profile-bio" id="profileBio" hidden></p>

        <div class="profile-info-grid">
          <section class="profile-panel">
            <h3>Compte EDH PodLog</h3>
            <dl class="profile-data">
              <div>
                <dt>Adresse e-mail</dt>
                <dd id="profileEmailDetail">‚Äî</dd>
              </div>
              <div>
                <dt>Membre depuis</dt>
                <dd id="profileMemberSince">‚Äî</dd>
              </div>
            </dl>
            <p class="profile-hint">
              Les informations proviennent de votre connexion Google. Elles seront
              utilis√©es pour personnaliser vos donn√©es de partie.
            </p>
          </section>
          <section class="profile-panel">
            <h3>Synchronisation</h3>
            <p>
              G√©rez vos int√©grations Moxfield et Archidekt depuis l'onglet d√©di√©.
              Vous y trouverez l'historique des synchronisations et les options √† venir.
            </p>
            <a class="panel-link action-with-icon" href="synchronisation.html">
              <img
                class="action-icon"
                src="assets/moxfield_logo.png"
                alt="Logo Moxfield"
                width="24"
                height="24"
                loading="lazy"
              />
              <span>Ouvrir l'onglet Synchronisation</span>
            </a>
          </section>
        </div>

        <section class="profile-panel profile-panel-form">
          <h3>Identit√© publique</h3>
          <form class="profile-form" id="profileForm" novalidate>
            <div class="profile-avatar-editor">
              <div
                class="profile-avatar profile-avatar-large profile-avatar-preview"
                id="profileAvatarPreview"
                aria-hidden="true"
              >
                VP
              </div>
              <div class="profile-avatar-actions">
                <button
                  class="inline-button"
                  type="button"
                  id="profileAvatarUploadButton"
                >
                  Choisir une image
                </button>
                <input
                  type="file"
                  id="profileAvatarInput"
                  accept="image/png,image/jpeg,image/webp,image/gif"
                  hidden
                />
                <button
                  class="inline-button is-secondary"
                  type="button"
                  id="profileAvatarClearButton"
                >
                  R√©initialiser la photo
                </button>
                <p class="profile-hint">
                  PNG, JPG, WEBP ou GIF (512&nbsp;Ko max). Revenir en arri√®re pour
                  retrouver l'avatar Google.
                </p>
              </div>
            </div>

            <div class="input-stack">
              <label class="profile-label" for="profileDisplayName"
                >Pseudonyme</label
              >
              <input
                class="profile-input"
                type="text"
                id="profileDisplayName"
                name="display_name"
                maxlength="80"
                autocomplete="nickname"
                placeholder="Planeswalker"
              />
              <p class="profile-hint">
                Ce nom appara√Æt dans vos playtests, exports et partages.
              </p>
            </div>

            <div class="input-stack">
              <label class="profile-label" for="profileBioInput"
                >Pr√©sentation</label
              >
              <textarea
                class="profile-input profile-textarea"
                id="profileBioInput"
                name="description"
                maxlength="1000"
                rows="4"
                placeholder="Pr√©sentez-vous aux autres joueurs et d√©crivez vos formats pr√©f√©r√©s."
              ></textarea>
              <div class="profile-field-footer">
                <span class="profile-hint">1000 caract√®res maximum.</span>
                <span class="profile-char-count" id="profileBioCount"
                  >0 / 1000</span
                >
              </div>
            </div>

            <div class="profile-toggle-row">
              <label class="profile-switch">
                <input type="checkbox" id="profileIsPublic" />
                <span class="profile-switch-indicator" aria-hidden="true"></span>
                <span class="profile-switch-label">
                  Rendre mon profil visible publiquement (decks synchronis√©s, statistiques r√©centes et pseudonyme seront partag√©s).
                </span>
              </label>
            </div>

            <div class="profile-form-actions">
              <p class="profile-status" id="profileFormStatus" role="status"></p>
              <button class="inline-button is-primary" type="submit" id="profileFormSubmit">
                Enregistrer les modifications
              </button>
            </div>
          </form>
        </section>
      </section>
    </main>
    <script
      src="https://accounts.google.com/gsi/client"
      async
      defer
      onload="window.dispatchEvent(new Event('google-loaded'))"
    ></script>
    <script src="config.js"></script>
    <script src="js/runtime-config.js"></script>
    <script src="js/session-store.js"></script>
    <script src="js/api-client.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/ui-badge.js"></script>
    <script src="js/app-core.js"></script>
    <script src="js/app-features.js"></script>
    <script src="js/app-init.js"></script>
    <script src="js/controllers/shared.js"></script>
    <script src="js/controllers/dashboard.js"></script>
    <script src="js/controllers/decks.js"></script>
    <script src="js/controllers/synchronisation.js"></script>
    <script src="js/controllers/deck-detail.js"></script>
    <script src="js/controllers/card-detail.js"></script>
    <script src="js/controllers/profile.js"></script>
    <script src="js/controllers/landing.js"></script>
  </body>
</html>
