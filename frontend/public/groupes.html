<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="theme-color" content="#0b1018" />
    <title>EDH PodLog ¬∑ Groupes</title>
    <link rel="icon" href="favicon.ico" sizes="any" />
    <link rel="apple-touch-icon" href="apple-touch-icon.png" />
    <link rel="manifest" href="manifest.webmanifest" />
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body class="app-shell" data-require-auth="true" data-page="groupes">
    <div class="app-background" aria-hidden="true"></div>
    <header class="app-header">
      <a class="brand brand-link" href="dashboard.html">
        <div class="brand-icon">üúÇ</div>
        <span class="brand-text">EDH PodLog</span>
      </a>
      <nav class="app-nav">
        <a class="app-nav-link" href="dashboard.html">Tableau de bord</a>
        <a class="app-nav-link" href="parties.html">Parties</a>
        <a class="app-nav-link is-active" href="groupes.html">Groupe</a>
        <a class="app-nav-link" href="decks.html">Decks</a>
        <a class="app-nav-link" href="#">Statistiques</a>
        <a class="app-nav-link" href="synchronisation.html">Synchronisation</a>
      </nav>
      <div class="profile-area">
        <button
          class="profile-button"
          type="button"
          id="profileMenuButton"
          aria-haspopup="true"
          aria-expanded="false"
        >
          <span class="profile-name" id="profileName">Vous</span>
          <span class="profile-avatar" id="profileAvatar" aria-hidden="true">VP</span>
          <svg
            class="profile-caret"
            width="16"
            height="16"
            viewBox="0 0 16 16"
            aria-hidden="true"
          >
            <path
              fill="currentColor"
              d="M4.47 6.97a.75.75 0 0 1 1.06 0L8 9.44l2.47-2.47a.75.75 0 1 1 1.06 1.06L8.53 11a.75.75 0 0 1-1.06 0L4.47 8.03a.75.75 0 0 1 0-1.06z"
            />
          </svg>
        </button>
        <div class="profile-dropdown" id="profileMenu" role="menu">
          <a class="dropdown-link" href="profile.html" role="menuitem">Mon profil</a>
          <button class="dropdown-link" type="button" id="signOutBtn" role="menuitem">
            Se d√©connecter
          </button>
        </div>
      </div>
    </header>

    <main class="groupes-main">
      <section class="groupes-header">
        <div>
          <h1>Groupes de jeu</h1>
          <p>
            Visualisez vos groupes, consultez les derni√®res parties associ√©es et acc√©dez rapidement aux historiques d√©taill√©s.
          </p>
        </div>
        <div class="groupes-actions">
          <button class="primary-action" type="button" id="createPlaygroupButton">
            Cr√©er un groupe
          </button>
          <a class="secondary-action" href="dashboard.html">Enregistrer une partie</a>
        </div>
      </section>

      <section class="groupes-layout">
        <div class="groupes-sidebar">
          <div class="groupes-empty" id="groupsEmpty">
            Aucun groupe n'a encore √©t√© enregistr√©. Cr√©ez-en un depuis le tableau de bord lors de la composition d'une table.
          </div>
          <ul class="group-card-list" id="groupsList"></ul>
        </div>
        <div class="group-detail-panel" id="groupDetailPanel" hidden>
          <div class="group-detail-header">
            <div>
              <h2 id="groupDetailTitle">S√©lectionnez un groupe</h2>
              <p id="groupDetailMeta" class="group-detail-meta"></p>
            </div>
            <div class="group-detail-actions">
              <button class="secondary-action" type="button" id="groupDeleteButton">
                Supprimer le groupe
              </button>
            </div>
          </div>
          <div class="group-detail-body">
            <section class="group-detail-section">
              <h3>Param√®tres</h3>
              <label class="group-detail-field">
                <span>Nom du groupe</span>
                <input type="text" id="groupDetailNameInput" />
              </label>
              <div class="group-detail-buttons">
                <button class="secondary-action" type="button" id="groupRenameButton">
                  Enregistrer le nom
                </button>
              </div>
              <p class="group-detail-status" id="groupDetailStatus" role="status"></p>
            </section>

            <section class="group-detail-section">
              <h3>Membres</h3>
              <ul class="group-members-list" id="groupMembersList"></ul>
              <div class="group-member-add">
                <label>
                  <span>Ajouter un membre suivi ou invit√©</span>
                  <select id="groupMemberAddSelect">
                    <option value="">S√©lectionner un joueur</option>
                  </select>
                </label>
                <button class="secondary-action" type="button" id="groupMemberAddButton">
                  Ajouter
                </button>
              </div>
            </section>

            <section class="group-detail-section">
              <h3>Statistiques</h3>
              <div class="group-stats" id="groupStatsContainer"></div>
            </section>

            <section class="group-detail-section">
              <h3>Historique r√©cent</h3>
              <ul class="group-recent-games" id="groupRecentGames"></ul>
            </section>
          </div>
        </div>
      </section>

      <section class="group-search-panel">
        <div class="group-search-head">
          <h2>Explorer la communaut√©</h2>
          <p>
            Recherchez des joueuses et joueurs, consultez leurs profils publics et suivez-les pour les inviter rapidement dans vos groupes.
          </p>
        </div>
        <form class="group-search-form" id="userSearchForm" novalidate>
          <label class="group-search-field">
            <span>Rechercher un joueur</span>
            <input
              type="search"
              id="userSearchInput"
              placeholder="Nom, pseudo ou adresse e-mail"
              autocomplete="off"
            />
          </label>
          <button class="secondary-action" type="submit">Rechercher</button>
        </form>
        <div class="group-search-results" id="userSearchResults"></div>
        <div class="group-public-profile" id="publicProfilePreview" hidden></div>
      </section>

      <section class="group-tracked-panel">
        <h2>Joueurs invit√©s</h2>
        <p>
          Cr√©ez des fiches pour les personnes sans compte EDH PodLog afin de les enregistrer facilement dans vos parties. Vous pourrez les lier √† leur compte plus tard.
        </p>
        <form class="tracked-player-form" id="trackedPlayerForm" novalidate>
          <label class="tracked-player-field">
            <span>Nom du joueur</span>
            <input type="text" id="trackedPlayerNameInput" required placeholder="Invit√© (ex: Alex)" />
          </label>
          <button class="secondary-action" type="submit">Cr√©er un joueur invit√©</button>
        </form>
        <div class="tracked-players" id="trackedPlayersList"></div>
      </section>
    </main>

    <script
      src="https://accounts.google.com/gsi/client"
      async
      defer
      onload="window.dispatchEvent(new Event('google-loaded'))"
    ></script>
    <script src="config.js"></script>
    <script src="js/app-core.js"></script>
    <script src="js/app-features.js"></script>
    <script src="js/app-init.js"></script>
    <script src="js/controllers/shared.js"></script>
    <script src="js/controllers/dashboard.js"></script>
    <script src="js/controllers/decks.js"></script>
    <script src="js/controllers/synchronisation.js"></script>
    <script src="js/controllers/deck-detail.js"></script>
    <script src="js/controllers/card-detail.js"></script>
    <script src="js/controllers/parties.js"></script>
    <script src="js/controllers/groupes.js"></script>
  </body>
</html>
