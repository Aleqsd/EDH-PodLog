<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="theme-color" content="#0b1018" />
    <title>EDH PodLog ¬∑ Tableau de bord</title>
    <link rel="icon" href="favicon.ico" sizes="any" />
    <link rel="apple-touch-icon" href="apple-touch-icon.png" />
    <link rel="manifest" href="manifest.webmanifest" />
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body class="app-shell" data-require-auth="true" data-page="dashboard">
    <div class="app-background" aria-hidden="true"></div>
    <header class="app-header">
      <a class="brand brand-link" href="dashboard.html">
        <div class="brand-icon">üúÇ</div>
        <span class="brand-text">EDH PodLog</span>
      </a>
      <nav class="app-nav">
        <a class="app-nav-link is-active" href="dashboard.html">Tableau de bord</a>
        <a class="app-nav-link" href="parties.html">Parties</a>
        <a class="app-nav-link" href="groupes.html">Groupe</a>
        <a class="app-nav-link" href="decks.html">Decks</a>
        <a class="app-nav-link" href="#">Statistiques</a>
        <a class="app-nav-link" href="synchronisation.html">Synchronisation</a>
      </nav>
      <div class="profile-area">
        <button
          class="profile-button"
          type="button"
          id="profileMenuButton"
          aria-haspopup="true"
          aria-expanded="false"
        >
          <span class="profile-name" id="profileName">Vous</span>
          <span class="profile-avatar" id="profileAvatar" aria-hidden="true">VP</span>
          <svg
            class="profile-caret"
            width="16"
            height="16"
            viewBox="0 0 16 16"
            aria-hidden="true"
          >
            <path
              fill="currentColor"
              d="M4.47 6.97a.75.75 0 0 1 1.06 0L8 9.44l2.47-2.47a.75.75 0 1 1 1.06 1.06L8.53 11a.75.75 0 0 1-1.06 0L4.47 8.03a.75.75 0 0 1 0-1.06z"
            />
          </svg>
        </button>
        <div class="profile-dropdown" id="profileMenu" role="menu">
          <a class="dropdown-link" href="profile.html" role="menuitem"
            >Mon profil</a
          >
          <button class="dropdown-link" type="button" id="signOutBtn" role="menuitem">
            Se d√©connecter
          </button>
        </div>
      </div>
    </header>

    <main class="dashboard-main">
      <div class="dashboard-content">
        <section class="game-card" aria-labelledby="gameCardTitle">
          <div class="game-card-header">
            <div class="game-card-heading">
              <h1 id="gameCardTitle">Planifier une partie</h1>
              <p class="game-card-subtitle">
                Organisez votre pod, choisissez les decks et archivez vos r√©sultats en quelques
                clics.
              </p>
            </div>
            <button class="primary-action" type="button" id="gameSetupToggle">
              Lancer une partie
            </button>
          </div>
          <div class="game-card-body" id="gameSetupContainer" hidden>
            <form class="game-setup-form" id="gameSetupForm" novalidate>
              <div class="game-setup-header">
                <div class="game-setup-header-text">
                  <h2>Composition de la table</h2>
                  <p>
                    Choisissez le groupe, ajustez les joueurs et pr√©parez le r√©sultat. Les champs se compressent pour vous permettre de tout g√©rer en un coup d'≈ìil.
                  </p>
                </div>
                <label class="playgroup-selector">
                  <span>Groupe</span>
                  <input
                    class="playgroup-input"
                    type="text"
                    id="playgroupInput"
                    name="playgroup"
                    placeholder="S√©lectionner ou cr√©er un groupe"
                    autocomplete="off"
                    list="knownPlaygroups"
                  />
                </label>
              </div>
              <ol class="player-list" id="gamePlayersList"></ol>
              <div class="game-setup-actions">
                <button class="inline-button" type="button" id="addPlayerButton">
                  Ajouter un joueur
                </button>
                <div class="game-setup-actions-primary">
                  <button class="secondary-action" type="button" id="startGameButton">
                    D√©marrer la partie
                  </button>
                  <button class="primary-action" type="button" id="saveResultButton">
                    Enregistrer le r√©sultat
                  </button>
                </div>
              </div>
            </form>
            <form class="game-result-form" id="gameResultForm" hidden>
              <div class="game-result-header">
                <h2>Classement de la partie</h2>
                <p>
                  Attribuez un rang √† chaque joueur. Des ex √¶quo sont accept√©s.
                </p>
              </div>
              <div class="game-result-grid" id="gameResultGrid"></div>
              <div class="game-result-actions">
                <button class="secondary-action" type="button" id="cancelResultButton">
                  Annuler
                </button>
                <button class="primary-action" type="submit">Enregistrer le r√©sultat</button>
              </div>
            </form>
            <p class="game-status" id="gameStatus" role="status" aria-live="polite"></p>
          </div>
          <template id="playerRowTemplate">
            <li class="player-row" data-player-id="">
              <div class="player-row-head">
                <div class="player-row-labels">
                  <span class="player-index"></span>
                  <label class="player-owner-toggle">
                    <input class="player-owner-radio" type="radio" name="gameOwner" />
                    <span>Propri√©taire du compte</span>
                  </label>
                </div>
                <div class="player-row-controls">
                  <button class="icon-button" data-action="move-up" type="button" aria-label="Monter ce joueur">‚Üë</button>
                  <button class="icon-button" data-action="move-down" type="button" aria-label="Descendre ce joueur">‚Üì</button>
                  <button class="icon-button" data-action="remove" type="button" aria-label="Retirer ce joueur">‚úï</button>
                </div>
              </div>
              <div class="player-fields">
                <label class="player-field player-source-field">
                  <span>Joueur suivi</span>
                  <select class="player-source-select">
                    <option value="">Saisie libre</option>
                  </select>
                </label>
                <label class="player-field">
                  <span>Nom du joueur</span>
                  <input class="player-name-input" type="text" required />
                </label>
                <div class="player-deck-field">
                  <label class="player-field player-deck-manual" hidden>
                    <span>Deck jou√©</span>
                    <input class="player-deck-input" type="text" />
                  </label>
                  <label class="player-field player-linked-deck" hidden>
                    <span>Deck suivi</span>
                    <select class="player-linked-deck-select"></select>
                  </label>
                  <label class="player-field player-deck-select" hidden>
                    <span>Deck du propri√©taire</span>
                    <select class="player-deck-select-input"></select>
                  </label>
                </div>
              </div>
            </li>
          </template>
        </section>

        <section class="history-card" id="gameHistorySection" aria-labelledby="gameHistoryTitle">
          <div class="history-card-head">
            <div>
              <h2 id="gameHistoryTitle">Historique de parties</h2>
              <p class="history-subtitle">
                Un aper√ßu de vos derni√®res parties. L'onglet Parties rassemble l'historique complet.
              </p>
            </div>
          </div>
      <div class="history-empty" id="gameHistoryEmpty">
        Aucune partie enregistr√©e pour le moment.
      </div>
      <ol class="game-history-list" id="gameHistoryList"></ol>
    </section>
  </div>
  <datalist id="knownPlaygroups"></datalist>
  <datalist id="knownPlayers"></datalist>
  <section class="life-tracker-overlay" id="lifeTrackerOverlay" hidden aria-hidden="true">
    <div
      class="life-tracker-dialog"
      role="dialog"
      aria-modal="true"
      aria-labelledby="lifeTrackerTitle"
    >
      <header class="life-tracker-header">
        <div class="life-tracker-heading">
          <p class="life-tracker-subtitle">Suivi Commander en temps r√©el</p>
          <h2 class="life-tracker-title" id="lifeTrackerTitle">Suivi des points de vie</h2>
        </div>
        <div class="life-tracker-actions">
          <button class="life-tracker-action secondary-action" type="button" id="lifeTrackerReset">
            R√©initialiser
          </button>
          <button class="life-tracker-action primary-action" type="button" id="lifeTrackerClose">
            Quitter
          </button>
        </div>
      </header>
      <p class="life-tracker-instructions" id="lifeTrackerInstructions">
        Chaque joueur commence √† 40 points de vie. Appuyez longuement sur +/‚àí pour ajuster de 10 et
        enregistrez les d√©g√¢ts de commandant subis en un geste.
      </p>
      <div class="life-tracker-grid" id="lifeTrackerGrid" role="grid" aria-describedby="lifeTrackerInstructions"></div>
    </div>
  </section>
</main>
    <script
      src="https://accounts.google.com/gsi/client"
      async
      defer
      onload="window.dispatchEvent(new Event('google-loaded'))"
    ></script>
    <script src="config.js"></script>
    <script src="js/app-core.js"></script>
    <script src="js/app-features.js"></script>
    <script src="js/app-init.js"></script>
    <script src="js/controllers/shared.js"></script>
    <script src="js/controllers/dashboard.js"></script>
    <script src="js/controllers/decks.js"></script>
    <script src="js/controllers/synchronisation.js"></script>
    <script src="js/controllers/deck-detail.js"></script>
    <script src="js/controllers/card-detail.js"></script>
    <script src="js/controllers/profile.js"></script>
    <script src="js/controllers/landing.js"></script>
  </body>
</html>
