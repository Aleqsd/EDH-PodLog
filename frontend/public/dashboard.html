<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <title>EDH PodLog ¬∑ Tableau de bord</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body class="app-shell" data-require-auth="true" data-page="dashboard">
    <div class="app-background" aria-hidden="true"></div>
    <header class="app-header">
      <a class="brand brand-link" href="dashboard.html">
        <div class="brand-icon">üúÇ</div>
        <span class="brand-text">EDH PodLog</span>
      </a>
      <nav class="app-nav">
        <a class="app-nav-link is-active" href="dashboard.html">Tableau de bord</a>
        <a class="app-nav-link" href="#">Parties</a>
        <a class="app-nav-link" href="decks.html">Decks</a>
        <a class="app-nav-link" href="#">Statistiques</a>
        <a class="app-nav-link" href="synchronisation.html">Synchronisation</a>
      </nav>
      <div class="profile-area">
        <button
          class="profile-button"
          type="button"
          id="profileMenuButton"
          aria-haspopup="true"
          aria-expanded="false"
        >
          <span class="profile-name" id="profileName">Vous</span>
          <span class="profile-avatar" id="profileAvatar" aria-hidden="true">VP</span>
          <svg
            class="profile-caret"
            width="16"
            height="16"
            viewBox="0 0 16 16"
            aria-hidden="true"
          >
            <path
              fill="currentColor"
              d="M4.47 6.97a.75.75 0 0 1 1.06 0L8 9.44l2.47-2.47a.75.75 0 1 1 1.06 1.06L8.53 11a.75.75 0 0 1-1.06 0L4.47 8.03a.75.75 0 0 1 0-1.06z"
            />
          </svg>
        </button>
        <div class="profile-dropdown" id="profileMenu" role="menu">
          <a class="dropdown-link" href="profile.html" role="menuitem"
            >Mon profil</a
          >
          <button class="dropdown-link" type="button" id="signOutBtn" role="menuitem">
            Se d√©connecter
          </button>
        </div>
      </div>
    </header>

    <main class="dashboard-main">
      <div class="dashboard-content">
        <section class="game-card" aria-labelledby="gameCardTitle">
          <div class="game-card-header">
            <div class="game-card-heading">
              <h1 id="gameCardTitle">Planifier une partie</h1>
              <p class="game-card-subtitle">
                Organisez votre pod, choisissez les decks et archivez vos r√©sultats en quelques
                clics.
              </p>
            </div>
            <button class="primary-action" type="button" id="gameSetupToggle">
              Lancer une partie
            </button>
          </div>
          <div class="game-card-body" id="gameSetupContainer" hidden>
            <form class="game-setup-form" id="gameSetupForm" novalidate>
              <div class="game-setup-header">
                <h2>Composition du pod</h2>
                <p>Les noms des quatre joueurs sont requis. Ajoutez des participants suppl√©mentaires si besoin.</p>
              </div>
              <ol class="player-list" id="gamePlayersList"></ol>
              <div class="game-setup-actions">
                <button class="inline-button" type="button" id="addPlayerButton">
                  Ajouter un joueur
                </button>
                <button class="primary-action" type="submit">Confirmer la composition</button>
              </div>
            </form>
            <div class="game-summary" id="gameSummary" hidden>
              <div class="game-summary-header">
                <h2>Pod confirm√©</h2>
                <p>
                  Vous pouvez d√©marrer la partie ou enregistrer directement un r√©sultat.
                </p>
              </div>
              <ul class="game-summary-list" id="gameSummaryList"></ul>
              <div class="game-actions">
                <button class="inline-button" type="button" id="editPlayersButton">
                  Modifier les joueurs
                </button>
                <button class="secondary-action" type="button" id="startGameButton" disabled>
                  D√©marrer la partie (bient√¥t disponible)
                </button>
                <button class="primary-action" type="button" id="openResultButton">
                  Enregistrer un r√©sultat
                </button>
              </div>
            </div>
            <form class="game-result-form" id="gameResultForm" hidden>
              <div class="game-result-header">
                <h2>Classement de la partie</h2>
                <p>
                  Attribuez un rang √† chaque joueur. Des ex √¶quo sont accept√©s.
                </p>
              </div>
              <div class="game-result-grid" id="gameResultGrid"></div>
              <div class="game-result-actions">
                <button class="secondary-action" type="button" id="cancelResultButton">
                  Annuler
                </button>
                <button class="primary-action" type="submit">Enregistrer le r√©sultat</button>
              </div>
            </form>
            <p class="game-status" id="gameStatus" role="status" aria-live="polite"></p>
          </div>
          <template id="playerRowTemplate">
            <li class="player-row" data-player-id="">
              <div class="player-row-head">
                <div class="player-row-labels">
                  <span class="player-index"></span>
                  <label class="player-owner-toggle">
                    <input class="player-owner-radio" type="radio" name="gameOwner" />
                    <span>Propri√©taire du compte</span>
                  </label>
                </div>
                <div class="player-row-controls">
                  <button class="icon-button" data-action="move-up" type="button" aria-label="Monter ce joueur">‚Üë</button>
                  <button class="icon-button" data-action="move-down" type="button" aria-label="Descendre ce joueur">‚Üì</button>
                  <button class="icon-button" data-action="remove" type="button" aria-label="Retirer ce joueur">‚úï</button>
                </div>
              </div>
              <div class="player-fields">
                <label class="player-field">
                  <span>Nom du joueur</span>
                  <input class="player-name-input" type="text" required />
                </label>
                <div class="player-deck-field">
                  <label class="player-field player-deck-manual" hidden>
                    <span>Deck jou√©</span>
                    <input class="player-deck-input" type="text" />
                  </label>
                  <label class="player-field player-deck-select" hidden>
                    <span>Deck du propri√©taire</span>
                    <select class="player-deck-select-input"></select>
                  </label>
                </div>
              </div>
            </li>
          </template>
        </section>

        <section class="history-card" id="gameHistorySection" aria-labelledby="gameHistoryTitle">
          <div class="history-card-head">
            <div>
              <h2 id="gameHistoryTitle">Historique de parties</h2>
              <p class="history-subtitle">
                Consultez vos parties enregistr√©es et leurs classements.
              </p>
            </div>
          </div>
          <div class="history-empty" id="gameHistoryEmpty">
            Aucune partie enregistr√©e pour le moment.
          </div>
          <ol class="game-history-list" id="gameHistoryList"></ol>
        </section>
      </div>
      <datalist id="knownPlayers"></datalist>
    </main>
    <script
      src="https://accounts.google.com/gsi/client"
      async
      defer
      onload="window.dispatchEvent(new Event('google-loaded'))"
    ></script>
    <script src="config.js"></script>
    <script src="js/app-core.js"></script>
    <script src="js/app-features.js"></script>
    <script src="js/app-init.js"></script>
    <script src="js/controllers/shared.js"></script>
    <script src="js/controllers/dashboard.js"></script>
    <script src="js/controllers/decks.js"></script>
    <script src="js/controllers/synchronisation.js"></script>
    <script src="js/controllers/deck-detail.js"></script>
    <script src="js/controllers/card-detail.js"></script>
    <script src="js/controllers/profile.js"></script>
    <script src="js/controllers/landing.js"></script>
  </body>
</html>
